<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subir corto</title>
    <link rel="icon" href="../img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../css/general-styles.css">
    <link rel="stylesheet" href="../css/subir-corto.css">
    <link rel="stylesheet" href="../css/utils.css">

    <script src="../js/common.js"></script>
    <script src="../js/api-service.js"></script>
    <script src="../js/check-session.js"></script>
</head>
<body>
    <home-header></home-header>
    <div class="d-flex flex-column justify-content-center align-items-center py-36px px-16px mx-0 container-sm-to-md">
        <p class="upload-short-film-title">Subir cortometraje</p>
        <span class="upload-short-film-secondary-text">Comparte tu obra con nosotros. Completa el formulario paso a paso.</span>
        <div class="steps-container d-flex flex-row w-100">
            <div id="step1" class="step active-step">
                <span class="step-number-container">
                    <span id="numberStep1" class="step-number-text">1</span>
                    <span id="checkIconStep1" class="icon-check w-20px h-20px bg-neutral-09 d-none"></span>
                </span>
                <span class="step-text">Datos del Participante</span>
            </div>
            <div class="step-line-divider"></div>
            <div id="step2" class="step">
                <span class="step-number-container">
                    <span id="numberStep2" class="step-number-text">2</span>
                    <span id="checkIconStep2" class="icon-check w-20px h-20px bg-neutral-09 d-none"></span>
                </span>
                <span class="step-text">Datos del Cortometraje</span>
            </div>
            <div class="step-line-divider"></div>
            <div id="step3" class="step">
                <span class="step-number-container">
                    <span id="numberStep3" class="step-number-text">3</span>
                    <span id="checkIconStep3" class="icon-check w-20px h-20px bg-neutral-09 d-none"></span>
                </span>
                <span class="step-text">Documentación</span>
            </div>
        </div>
        <div class="upload-short-film-card-container" id="uploadShortFilmCard">
            <div class="upload-short-film-card-header step-1">
                <span class="upload-short-film-card-header-text">Registro del Participante</span>
                <span class="upload-short-film-card-header-subtext">Paso 1 de 3</span>
            </div>
            <div class="d-flex flex-column p-24px gap-12px bg-neutral-09">

                <div id="cardBodyStep1" class="upload-short-film-card-body-step">
                    <input-component
                            label="Nombre Completo"
                            id="nombreInput"
                            width="100%"
                            required
                            required-message="El nombre no puede estar vacío">
                    </input-component>

                    <div class="d-flex-two-columns-responsive">
                        <input-component
                                label="Correo Electrónico"
                                id="correoInput"
                                type="email"
                                width="auto"
                                required
                                required-message="El correo no puede estar vacío"
                                invalid-message="Por favor, introduce un correo válido (ej: usuario@dominio.com)">
                        </input-component>

                        <input-component
                                label="Contraseña"
                                id="passwordInput"
                                type="password"
                                width="auto"
                                required
                                required-message="La contraseña no puede estar vacía"
                                min-length="8"
                                error-message="La contraseña debe tener al menos 8 caracteres">
                        </input-component>
                    </div>

                    <div class="divider-inputs">
                        <div class="upload-short-film-divider-container">
                            <span class="divider-line"></span>
                            <span class="divider-text">IDENTIFICACIÓN</span>
                            <span class="divider-line"></span>
                        </div>

                        <div class="d-flex-two-columns-responsive">
                            <input-component
                                    label="DNI / NIE / Pasaporte"
                                    id="dniInput"
                                    width="auto"
                                    required
                                    min-length="8"
                                    max-length="15"
                                    required-message="El documento es obligatorio"
                                    error-message="El DNI o pasaporte debe tener entre 8 y 15 dígitos">
                            </input-component>

                            <input-component
                                    label="Numero de expediente"
                                    id="nroExpedienteInput"
                                    width="auto"
                                    required
                                    required-message="El número de expediente es obligatorio">
                            </input-component>
                        </div>
                    </div>

                    <div class="upload-short-film-divider-container">
                        <span class="divider-line"></span>
                    </div>
                    <div class="upload-short-film-input-space-between-row">
                        <p class="upload-short-film-terms-text">Al continuar, confirmo que he leído y acepto las <a href="bases-legales.html" class="upload-short-film-link">bases legales</a> del concurso.</p>
                        <button class="primary-button-01 col-12 col-md-4" id="step1ContinueBtn">Continuar</button>
                    </div>
                </div>

                <div id="cardBodyStep2" class="upload-short-film-card-body-step step-2 d-none">
                    <select-component
                            id="tipoCandidaturaSelect"
                            label="Tipo de candidatura"
                            required
                            required-message="Debes seleccionar un tipo">
                    </select-component>

                    <div>
                        <file-component
                                id="videoInput"
                                label="Archivo de vídeo del cortometraje"
                                primary-text="Arrastra y suelta tu vídeo aquí o haz clic para seleccionar"
                                secondary-text="MOV o MP4 (Máx. 2GB)"
                                accept=".mov,.mp4"
                                max-size="2147483648"
                                required
                                error-type="Formato no válido. Solo se permiten archivos .mov y .mp4"
                                error-size="El vídeo es demasiado pesado. El máximo permitido son 2GB"
                                error-required="Debes subir un vídeo para completar el registro"
                        ></file-component>

                        <span class="fs-14px">El archivo debe enviarse en formato QuickTime MOV o MP4, con compresión H.264, resolución 1920 x 1080 píxeles, 25 fps, formato 16:9 y audio mezclado en estéreo.</span>
                    </div>

                    <file-component
                            id="posterInput"
                            label="Póster del cortometraje"
                            primary-text="Arrastra y suelta el póster aquí o haz clic para seleccionar"
                            secondary-text="JPG o TIF (Máx. 10MB)"
                            accept=".jpg,.jpeg,.tif,.tiff"
                            max-size="10485760"
                            required
                            error-type="Formato no válido. Usa JPG o TIF"
                            error-size="La imagen es muy pesada. El máximo permitido son 10MB"
                            error-required="El póster es obligatorio"
                    ></file-component>

                    <input-component
                            id="tituloInput"
                            label="Título de la obra"
                            width="100%"
                            required
                            required-message="El título es obligatorio para identificar tu obra"
                    ></input-component>

                    <input-component
                            id="sinopsisInput"
                            label="Sinopsis de la obra"
                            textarea
                            width="100%"
                            required
                            max-words="100"
                            required-message="La sinopsis es obligatoria para conocer tu obra"
                            error-message="La sinopsis es demasiado larga. Máximo 100 palabras"
                    ></input-component>

                    <span class="fs-14px neutral-03"><span id="sinopsisTotalWords">0</span>/100 palabras</span>

                    <div class="upload-short-film-divider-container">
                        <span class="divider-line"></span>
                    </div>

                    <div class="d-flex-two-columns-responsive justify-space-between">
                        <button id="step2BackBtn" class="secondary-button-02 col-md-4">Volver</button>
                        <button id="step2ContinueBtn" class="primary-button-01 col-md-4">Continuar</button>
                    </div>
                </div>

                <div id="cardBodyStep3" class="upload-short-film-card-body-step d-none">
                    <span>Ya casi terminamos. Sube la ficha técnico-artística de tu obra para completar la candidatura.</span>
                    <file-component
                            id="fichaTecnicaInput"
                            label="Ficha técnica"
                            primary-text="Arrastra y suelta la ficha técnica aquí o haz clic para seleccionar"
                            secondary-text="Solo PDF (Máx. 5MB)"
                            accept=".pdf"
                            max-size="5242880"
                            required
                            error-type="Formato no válido. Solo se permiten archivos PDF"
                            error-size="El archivo es demasiado pesado. El máximo permitido son 5MB"
                            error-required="La ficha técnica es obligatoria para procesar la inscripción"
                    ></file-component>
                    <div class="d-flex-two-columns-responsive justify-space-between">
                        <button id="step3BackBtn" class="secondary-button-02 col-md-4">Volver</button>
                        <button id="step3ContinueBtn" class="primary-button-01 col-md-4">Continuar</button>
                    </div>
                </div>

            </div>
        </div>
        <div class="d-flex flex-column align-items-center container-lg box-shadow-02 p-24px gap-20px py-72px d-none" id="cortoSubidoExitoCard">
            <div class="bg-success-03 d-flex justify-content-center align-items-center border-radius-50 p-12px">
                <span class="icon-small-check w-36px h-36px bg-neutral-02 d-block"></span>
            </div>
            <h4 class="text-center fs-24px fs-md-32px">¡Candidatura enviada con éxito!</h4>
            <p class="text-center text-neutral-03">Tu cortometraje ha sido registrado correctamente. Recibirás un correo de confirmación en breve.</p>
            <span class="text-primary-03">Redireccionando...</span>
        </div>
    </div>
    <home-footer></home-footer>

    <script src="../js/components/modal-component.js"></script>
    <script src="../js/libraries/air-datepicker.min.js"></script>
    <script src="../js/components/input-component.js"></script>
    <script src="../js/components/date-component.js"></script>
    <script src="../js/components/file-component.js"></script>
    <script src="../js/components/select-component.js"></script>
    <script src="../js/components/header.js"></script>
    <script src="../js/components/footer.js"></script>
    <script src="../js/subir-corto.js"></script>
</body>
</html>