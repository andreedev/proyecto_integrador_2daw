<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noticias</title>
    <link rel="icon" href="../img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../css/libraries/air-datepicker.min.css">
    <link rel="stylesheet" href="../css/general-styles.css">
    <link rel="stylesheet" href="../css/menu-admin.css">
    <link rel="stylesheet" href="../css/admin-noticias.css">
    <link rel="stylesheet" href="../css/utils.css">

    <script src="../js/common.js"></script>
    <script src="../js/api-service.js"></script>
    <script src="../js/check-session.js"></script>
</head>
<body>
    <div class="admin-super-container">
        <menu-admin></menu-admin>
        <div class="admin-page-content">
            <div class="admin-header">
                <div class="admin-header-module-info-container">
                    <p class="admin-module-name">Gestión de Noticias</p>
                    <span class="admin-module-description">Administra las noticias  que se mostrará en la página principal del festival</span>
                </div>
            </div>

            <div class="admin-content">
                <div class="d-flex gap-24px flex-column">
                    <div class="search-bar-with-button">
                        <div class="search-bar-container flex-grow-1 w-100">
                            <span class="d-block icon-search w-24px h-24px bg-neutral-03"></span>
                            <input type="text" id="searchInput" placeholder="Buscar noticia" class="w-100">
                        </div>
                        <div id="addNews" class="primary-button-01 flex-shrink-0 h-100">Añadir Noticia</div>
                    </div>
                    <div id="newsListContainer" class="d-flex flex-column gap-16px"></div>
                </div>
            </div>
        </div>
    </div>

    <dialog id="modalNoticia" class="bg-neutral-09">
        <button autofocus class="ghost">Ghost focus</button>
        <div class="modal-header d-flex justify-space-between align-center">
            <div class="modal-header-left-side">
                <span class="modal-header-title">Añadir Noticia</span>
            </div>
            <div class="modal-header-right-side">
                <span class="icon-close w-24px h-24px bg-neutral-03 modal-close-button cursor-pointer close-modal"></span>
            </div>
        </div>
        <div class="modal-body">
            <input-component
                    label="Título"
                    id="tituloInput"
                    width="100%"
                    required
                    required-message="¡Ups! El título no puede estar vacío"
                    min-length="5"
                    error-message="El título es demasiado corto (mínimo 5 letras)">
            </input-component>

            <input-component
                    label="Descripción"
                    textarea
                    id="descripcionInput"
                    required
                    required-message="¡Ups! La descripción no puede estar vacía"
            >
            </input-component>

            <date-component
                    label="Fecha de publicación"
                    container="#modalNoticia"
                    id="fechaPublicacion">
            </date-component>

            <file-component
                    id="imagenInput"
                    label="Imagen de la noticia"
                    primary-text="Arrastra y suelta tu imagen aquí o haz clic para seleccionar"
                    secondary-text="JPG, PNG, WEBP or AVIF (Max. 10MB)"
                    accept=".jpg,.jpeg,.png,.webp,.avif"
                    max-size="10485760"
                    required
                    error-type="Formato no válido. Usa JPG, PNG, WEBP o AVIF"
                    error-size="La imagen es muy pesada. El máximo permitido son 10MB"
                    error-required="Debes subir una foto para continuar"
            ></file-component>

            <div class="d-flex-two-columns-responsive gap-24px">
                <div class="secondary-button-02 text-center close-modal">Cancelar</div>
                <div class="primary-button-02 text-center" id="primaryModalActionBtn">Agregar noticia</div>
            </div>
        </div>
    </dialog>


    <script src="../js/libraries/air-datepicker.min.js"></script>
    <script src="../js/components/input-component.js"></script>
    <script src="../js/components/date-component.js"></script>
    <script src="../js/components/file-component.js"></script>
    <script src="../js/menu-admin.js"></script>
    <script src="../js/admin-noticias.js"></script>
</body>
</html>